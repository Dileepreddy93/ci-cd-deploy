name: CI/CD Pipeline # Keep this if it's at the top of your file

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build: # This is your 'build' job
    runs-on: ubuntu-latest # The operating system for the job

    steps: # Ensure 'steps' is indented correctly under 'build'
      - name: Checkout code # This step 'uses' an action
        uses: actions/checkout@v4

      - name: Set up Python # This step 'uses' an action
        uses: actions/setup-python@v5
        with:
          python-version: '3.9' # IMPORTANT: Change to your required Python version (e.g., '3.10', '3.11', '3.x')

      - name: Install Python dependencies # This step 'runs' a command
        run: pip install -r requirements.txt
        # IMPORTANT: If your 'requirements.txt' is NOT in the root of your repo,
        # uncomment the line below and specify the correct subfolder (e.g., 'backend', 'src', 'app'):
        # working-directory: ./your-python-app-folder

      # You mentioned `app.py` and `Dockerfile`. You might want to add steps here for:
      # 1. Running tests (if you have them, e.g., using pytest)
      # 2. Building a Docker image

      - name: Run Python Tests (Optional - if you have tests)
        # This is just an example, replace with your actual test command
        run: echo "No Python tests configured, skipping."
        # If you have pytest:
        # run: pip install pytest && pytest

      - name: Build Docker image (Optional - if you use Docker)
        # Assuming Dockerfile is in the root of your repo. Adjust 'path' if needed.
        run: docker build -t your-repo/your-image-name:$(echo $GITHUB_SHA | cut -c 1-7) .
        # Replace 'your-repo/your-image-name' with your actual image name
        # You might also want to add a 'docker login' step before this for private registries

      # Remove these 'Post' steps if they are still present. They were remnants from Node.js setup
      # and are often added automatically by GitHub Actions but are not part of your explicit config.
      # - name: Post Set up Node.js
      #   if: always()
      # - name: Post Checkout code
      #   if: always()

      - name: Complete job # This is a simple step that 'runs' an echo command
        run: echo "Build job completed successfully."
        # Note: 'Complete job' is not a standard GitHub Action.
        # The job automatically completes when the last step finishes.
        # You can remove this step if you want to keep the workflow clean.

// Open file for review

